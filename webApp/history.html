<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="text_file_io.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="history_style.css">
    <script src='https://mozilla.github.io/nunjucks/files/nunjucks.min.js'></script>
</head>

<body>
    <script>
        const nj = `
        <div class="event_view">
            <div class="event_date_view">{{ event.date }}</div>
            <div class="event_title">{{ event.title }}</div>
            <div class="event_previews_view">
                <div class="event_text_row">
                    <div class="text_flag">{{ flags[event.original_language] }}</div>
                    <div class="preview_text">{{ clipString(event.transcription_result) }}</div>
                    <button class="option_button" onclick="() => speak(event, false);">
                        <span class="material-symbols-outlined">brand_awareness</span>
                    </button>
                    <button class="option_button" onclick="(_) => copyToClipboard(event.transcription_result);">
                        <span class="material-symbols-outlined">content_copy</span>
                    </button>
                    <button class="option_button" onclick="(_) => downloadAsFile(event.transcription_result, 'transcription.txt');">
                        <span class="material-symbols-outlined">download</span>
                    </button>
                </div>
                {% if event.translation_result is defined %}
                    <div class="event_text_row">
                        <div class="text_flag">{{ flags[event.translate_language] }}</div>
                        <div class="preview_text">{{ clipString(event.translation_result) }}</div>
                        <button class="option_button" onclick="speak(event, true);">
                            <span class="material-symbols-outlined">brand_awareness</span>
                        </button>
                        <button class="option_button" onclick="copyToClipboard(event.translation_result);>
                            <span class="material-symbols-outlined">content_copy</span>
                        </button>
                        <button class="option_button" onclick="downloadAsFile(event.translation_result, 'translation.txt');">
                            <span class="material-symbols-outlined">download</span>
                        </button>
                    </div>
                {% endif %}
            </div>
            <div class="delete-button-container">
                <button class="option_button" onclick="alert('here be delete');">
                    <span class="material-symbols-outlined">delete</span>
                </button>
            </div>
        </div>
        `;
        const njTemplate = nunjucks.compile(nj);
    </script>
    <header>
        <div id="top_menu">
            <p>Whisker+</p>
            <a href="http://127.0.0.1:5500/webApp/index.html" class="icon_button">
                Transcribe <span class="material-symbols-outlined">edit_document</span>
            </a>
            <a href="http://127.0.0.1:5500/webApp/record.html" class="icon_button">
                Dictate <span class="material-symbols-outlined">mic</span>
            </a>
            <a href="#" class="icon_button selected">
                History <span class="material-symbols-outlined">lock</span>
            </a>
            <a href="http://127.0.0.1:5500/webApp/swagger.html" class="icon_button locked">
                Swagger <span class="material-symbols-outlined">lock</span>
            </a>
            <a href="http://127.0.0.1:5500/webApp/about.html" class="icon_button">
                About <span class="material-symbols-outlined">help</span>
            </a>
            <div id="blank_space"></div>
        </div>
        <div class="header selected" id="navigation">
            <div class="tab_button selected" onclick="openTab(this, 'transcription')">
                <div>Translations</div>
            </div>
            <div class="tab_button" onclick="openTab(this, 'translation')">
                <div>Transcriptions<br><span class="smaller_text">Single Speaker</span></div>
            </div>
            <div class="tab_button" onclick="openTab(this, 'diarization')">
                <div>Transcriptions<br><span class="smaller_text">Multiple Speakers</span></div>
            </div>
        </div>
    </header>
    <main>
        <div id="page_view">
            <div id="filter_options" class="main_content">
                <div>
                </div>
            </div>
            <div id="main_container" class="main_content">
                <div id="transcription_history" class="tab"></div>
                <div id="translation_history" class="hidden tab"></div>
                <div id="diarization_history" class="hidden tab"></div>
            </div>
        </div>
    </main>
    <script src="dist/history.js">
        </script>
</body>

</html>